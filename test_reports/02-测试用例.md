# 书海阁项目测试用例

## 1. 测试用例概述

本文档包含书海阁图书管理系统的测试用例，涵盖系统的四个核心功能模块的测试。每个测试用例都包含测试数据、预期结果、优先级和执行方法等信息。

## 2. 图书管理模块测试

### 2.1 图书列表展示功能测试

| 测试用例ID | TM-1.1 |
|------------|-------|
| 测试名称 | 正常加载图书列表 |
| 测试优先级 | 高 |
| 前置条件 | 数据库中存在多条图书记录 |
| 测试步骤 | 1. 打开图书列表页面<br>2. 观察页面加载情况<br>3. 检查分页控件 |
| 测试数据 | 默认页码=1, 每页数量=10 |
| 预期结果 | 1. 页面正常加载并显示第一页图书信息<br>2. 分页控件显示正确页码信息<br>3. 图书信息显示正确且完整 |
| 测试类型 | 功能测试 |

| 测试用例ID | TM-1.2 |
|------------|-------|
| 测试名称 | 空列表处理 |
| 测试优先级 | 中 |
| 前置条件 | 数据库中不存在图书记录或筛选条件下没有匹配的图书 |
| 测试步骤 | 1. 打开图书列表页面或应用筛选条件<br>2. 观察空列表显示情况 |
| 测试数据 | 无图书数据 |
| 预期结果 | 1. 页面显示"暂无数据"或类似提示信息<br>2. 页面布局不会因为无数据而错乱 |
| 测试类型 | 边界值测试 |

| 测试用例ID | TM-1.3 |
|------------|-------|
| 测试名称 | 按收藏量排序 |
| 测试优先级 | 中 |
| 前置条件 | 数据库中存在多条具有不同收藏量的图书记录 |
| 测试步骤 | 1. 打开图书列表页面<br>2. 点击收藏量排序按钮<br>3. 观察排序效果<br>4. 再次点击切换排序方向 |
| 测试数据 | 多本具有不同收藏量的图书 |
| 预期结果 | 1. 首次点击后按收藏量降序排列<br>2. 再次点击后按收藏量升序排列<br>3. 相同收藏量的图书按更新时间排序 |
| 测试类型 | 功能测试 |

### 2.2 图书详情功能测试

| 测试用例ID | TM-2.1 |
|------------|-------|
| 测试名称 | 获取有效图书详情 |
| 测试优先级 | 高 |
| 前置条件 | 数据库中存在ID为1的有效图书 |
| 测试步骤 | 1. 点击图书列表中ID为1的图书<br>2. 进入图书详情页 |
| 测试数据 | bookId=1 |
| 预期结果 | 1. 正确显示图书的所有信息：标题、作者、分类、价格、简介等<br>2. 图书封面图片正确加载<br>3. 收藏状态正确显示 |
| 测试类型 | 等价类划分 |

| 测试用例ID | TM-2.2 |
|------------|-------|
| 测试名称 | 获取不存在的图书详情 |
| 测试优先级 | 中 |
| 前置条件 | 数据库中不存在ID为9999的图书 |
| 测试步骤 | 1. 直接访问ID为9999的图书详情页URL |
| 测试数据 | bookId=9999 |
| 预期结果 | 1. 显示友好的错误提示，如"图书不存在"<br>2. 提供返回列表页的链接 |
| 测试类型 | 错误处理测试 |

| 测试用例ID | TM-2.3 |
|------------|-------|
| 测试名称 | 特殊字段处理测试 |
| 测试优先级 | 低 |
| 前置条件 | 数据库中存在ID为3的图书，该图书有特殊字段值（如作者为空、价格为负等） |
| 测试步骤 | 1. 访问ID为3的图书详情页 |
| 测试数据 | bookId=3, 作者=null, 价格=-10 |
| 预期结果 | 1. 作者显示为"未知作者"<br>2. 价格显示为0.00<br>3. 其他特殊值有适当的默认显示 |
| 测试类型 | 特殊值测试 |

### 2.3 图书添加功能测试

| 测试用例ID | TM-3.1 |
|------------|-------|
| 测试名称 | 正常添加图书 |
| 测试优先级 | 高 |
| 前置条件 | 用户已登录且有添加图书权限 |
| 测试步骤 | 1. 访问添加图书页面<br>2. 填写所有必填信息<br>3. 点击提交按钮 |
| 测试数据 | 书名="Spring实战", 作者="Craig Walls", 分类="编程", 价格=69.00 |
| 预期结果 | 1. 系统成功添加图书并返回成功提示<br>2. 返回图书列表可看到新增的图书<br>3. 数据库中新增一条图书记录 |
| 测试类型 | 功能测试 |

| 测试用例ID | TM-3.2 |
|------------|-------|
| 测试名称 | 必填项验证 |
| 测试优先级 | 中 |
| 前置条件 | 用户已登录且有添加图书权限 |
| 测试步骤 | 1. 访问添加图书页面<br>2. 不填写书名等必填项<br>3. 点击提交按钮 |
| 测试数据 | 书名="", 作者="Craig Walls", 分类="编程", 价格=69.00 |
| 预期结果 | 1. 表单提交失败<br>2. 页面显示必填项错误提示<br>3. 没有创建新的图书记录 |
| 测试类型 | 验证测试 |

### 2.4 图书编辑功能测试

| 测试用例ID | TM-4.1 |
|------------|-------|
| 测试名称 | 正常编辑图书信息 |
| 测试优先级 | 高 |
| 前置条件 | 数据库中存在ID为1的图书，用户已登录且有编辑权限 |
| 测试步骤 | 1. 访问ID为1的图书编辑页面<br>2. 修改图书价格<br>3. 点击保存按钮 |
| 测试数据 | bookId=1, 新价格=75.00 |
| 预期结果 | 1. 系统成功更新图书并返回成功提示<br>2. 图书详情页显示更新后的价格<br>3. 数据库中对应记录已更新 |
| 测试类型 | 功能测试 |

| 测试用例ID | TM-4.2 |
|------------|-------|
| 测试名称 | 编辑不存在的图书 |
| 测试优先级 | 低 |
| 前置条件 | 数据库中不存在ID为9999的图书 |
| 测试步骤 | 1. 直接访问ID为9999的图书编辑页URL |
| 测试数据 | bookId=9999 |
| 预期结果 | 1. 显示友好的错误提示<br>2. 不允许进行编辑操作 |
| 测试类型 | 错误处理测试 |

### 2.5 图书删除功能测试

| 测试用例ID | TM-5.1 |
|------------|-------|
| 测试名称 | 正常删除图书 |
| 测试优先级 | 高 |
| 前置条件 | 数据库中存在ID为5的图书，且该图书未被收藏，用户有删除权限 |
| 测试步骤 | 1. 在图书列表页找到ID为5的图书<br>2. 点击删除按钮<br>3. 确认删除操作 |
| 测试数据 | bookId=5 |
| 预期结果 | 1. 系统成功删除图书并返回成功提示<br>2. 图书列表中不再显示该图书<br>3. 数据库中对应记录已删除 |
| 测试类型 | 功能测试 |

| 测试用例ID | TM-5.2 |
|------------|-------|
| 测试名称 | 删除已被收藏的图书 |
| 测试优先级 | 中 |
| 前置条件 | 数据库中存在ID为6的图书，且该图书已被用户收藏 |
| 测试步骤 | 1. 在图书列表页找到ID为6的图书<br>2. 点击删除按钮<br>3. 确认删除操作 |
| 测试数据 | bookId=6, 已被收藏 |
| 预期结果 | 1. 系统提示图书已被收藏，确认是否仍要删除<br>2. 确认后图书被删除<br>3. 用户收藏列表中相应记录也被处理（保留记录但标记图书已删除，或同步删除收藏记录） |
| 测试类型 | 业务逻辑测试 |

## 3. 图书搜索模块测试

### 3.1 简单搜索功能测试

| 测试用例ID | TS-1.1 |
|------------|-------|
| 测试名称 | 按书名搜索 |
| 测试优先级 | 高 |
| 前置条件 | 数据库中存在书名包含"Java"的图书 |
| 测试步骤 | 1. 在搜索框中输入"Java"<br>2. 点击搜索按钮 |
| 测试数据 | 搜索关键词="Java" |
| 预期结果 | 1. 返回书名包含"Java"的所有图书<br>2. 结果按默认排序显示 |
| 测试类型 | 功能测试 |

| 测试用例ID | TS-1.2 |
|------------|-------|
| 测试名称 | 搜索不存在的内容 |
| 测试优先级 | 中 |
| 前置条件 | 数据库中不存在书名包含"xyz123"的图书 |
| 测试步骤 | 1. 在搜索框中输入"xyz123"<br>2. 点击搜索按钮 |
| 测试数据 | 搜索关键词="xyz123" |
| 预期结果 | 1. 显示"未找到匹配的图书"或类似提示<br>2. 提供清除搜索或返回全部图书的选项 |
| 测试类型 | 边界值测试 |

### 3.2 高级搜索功能测试

| 测试用例ID | TS-2.1 |
|------------|-------|
| 测试名称 | 精确标题搜索-短标题 |
| 测试优先级 | 高 |
| 前置条件 | 数据库中存在标题为"Java"的图书 |
| 测试步骤 | 1. 在高级搜索页面输入标题：Java<br>2. 作者和分类保持为空<br>3. 点击搜索按钮 |
| 测试数据 | title="Java", author="", category="" |
| 预期结果 | 1. 返回书名完全匹配"Java"的图书<br>2. 不返回标题中包含"Java"但不等于"Java"的图书<br>3. 结果按更新时间降序排列 |
| 测试类型 | 等价类划分 |

| 测试用例ID | TS-2.2 |
|------------|-------|
| 测试名称 | 多条件组合搜索 |
| 测试优先级 | 高 |
| 前置条件 | 数据库中存在同时满足标题包含"Java"、作者为"Martin"、分类为"编程"的图书 |
| 测试步骤 | 1. 在高级搜索页面输入标题：Java<br>2. 输入作者：Martin<br>3. 选择分类：编程<br>4. 点击搜索按钮 |
| 测试数据 | title="Java", author="Martin", category="编程" |
| 预期结果 | 1. 返回同时满足所有条件的图书<br>2. 结果按更新时间降序排列 |
| 测试类型 | 组合测试 |

| 测试用例ID | TS-2.3 |
|------------|-------|
| 测试名称 | 包含特殊字符搜索 |
| 测试优先级 | 中 |
| 前置条件 | 数据库中存在标题包含特殊字符的图书（如"C#&.NET"） |
| 测试步骤 | 1. 在高级搜索页面输入包含特殊字符的标题：C#&.NET<br>2. 点击搜索按钮 |
| 测试数据 | title="C#&.NET", author="", category="" |
| 预期结果 | 1. 正确处理特殊字符，不抛出异常<br>2. 返回包含特殊字符的相关图书 |
| 测试类型 | 错误猜测 |

### 3.3 按收藏量排序功能测试

| 测试用例ID | TS-3.1 |
|------------|-------|
| 测试名称 | 收藏量降序排序 |
| 测试优先级 | 高 |
| 前置条件 | 数据库中存在多本具有不同收藏量的图书 |
| 测试步骤 | 1. 在图书列表页选择"收藏量"排序<br>2. 选择"降序"排序类型<br>3. 点击排序按钮 |
| 测试数据 | sortType="desc", query="" |
| 预期结果 | 1. 图书按照收藏量从高到低排序<br>2. 相同收藏量的图书按更新时间降序排序 |
| 测试类型 | 等价类划分 |

| 测试用例ID | TS-3.2 |
|------------|-------|
| 测试名称 | 收藏量相同时二级排序 |
| 测试优先级 | 中 |
| 前置条件 | 数据库中存在至少两本收藏量相同的图书，更新时间不同 |
| 测试步骤 | 1. 在图书列表页选择"收藏量"排序<br>2. 选择"降序"排序类型<br>3. 点击排序按钮 |
| 测试数据 | sortType="desc", 数据包含收藏量相同的图书 |
| 预期结果 | 收藏量相同的图书按更新时间降序排列 |
| 测试类型 | 边界值分析 |

## 4. 收藏管理模块测试

### 4.1 收藏图书功能测试

| 测试用例ID | TF-1.1 |
|------------|-------|
| 测试名称 | 正常收藏图书 |
| 测试优先级 | 高 |
| 前置条件 | 1. 用户已登录<br>2. 数据库中存在ID为1的图书<br>3. 用户未收藏该图书<br>4. 图书当前收藏数为10 |
| 测试步骤 | 1. 访问ID为1的图书详情页<br>2. 点击"收藏"按钮 |
| 测试数据 | bookId=1, userId=当前登录用户ID |
| 预期结果 | 1. 页面显示收藏成功提示<br>2. "收藏"按钮变为"已收藏"状态<br>3. 图书收藏数增加到11<br>4. 数据库中添加对应的收藏记录 |
| 测试类型 | 功能测试 |

| 测试用例ID | TF-1.2 |
|------------|-------|
| 测试名称 | 重复收藏处理 |
| 测试优先级 | 中 |
| 前置条件 | 1. 用户已登录<br>2. 数据库中存在ID为1的图书<br>3. 用户已收藏该图书 |
| 测试步骤 | 1. 访问ID为1的图书详情页<br>2. 尝试再次点击"已收藏"按钮 |
| 测试数据 | bookId=1, userId=当前登录用户ID |
| 预期结果 | 1. 系统识别为已收藏状态<br>2. 点击"已收藏"按钮触发取消收藏操作<br>3. 或提示"您已收藏过该图书" |
| 测试类型 | 错误处理测试 |

### 4.2 取消收藏功能测试

| 测试用例ID | TF-2.1 |
|------------|-------|
| 测试名称 | 正常取消收藏 |
| 测试优先级 | 高 |
| 前置条件 | 1. 用户已登录<br>2. 数据库中存在ID为1的图书<br>3. 用户已收藏该图书<br>4. 图书当前收藏数为11 |
| 测试步骤 | 1. 访问ID为1的图书详情页<br>2. 点击"已收藏"按钮取消收藏 |
| 测试数据 | bookId=1, userId=当前登录用户ID |
| 预期结果 | 1. 页面显示取消收藏成功提示<br>2. "已收藏"按钮变为"收藏"状态<br>3. 图书收藏数减少到10<br>4. 数据库中删除对应的收藏记录 |
| 测试类型 | 功能测试 |

| 测试用例ID | TF-2.2 |
|------------|-------|
| 测试名称 | 收藏量统计更新 |
| 测试优先级 | 中 |
| 前置条件 | 1. 用户已登录<br>2. 数据库中存在ID为1的图书<br>3. 用户已收藏该图书<br>4. 图书当前收藏数为11 |
| 测试步骤 | 1. 在收藏列表页取消收藏ID为1的图书<br>2. 访问图书列表和详情页检查收藏数 |
| 测试数据 | bookId=1, userId=当前登录用户ID |
| 预期结果 | 1. 取消收藏操作成功<br>2. 图书列表和详情页中的收藏数统一更新为10 |
| 测试类型 | 一致性测试 |

### 4.3 收藏列表查看功能测试

| 测试用例ID | TF-3.1 |
|------------|-------|
| 测试名称 | 正常查看收藏列表 |
| 测试优先级 | 高 |
| 前置条件 | 1. 用户已登录<br>2. 用户已收藏多本图书 |
| 测试步骤 | 1. 点击导航栏中的"我的收藏"<br>2. 访问收藏列表页 |
| 测试数据 | userId=当前登录用户ID |
| 预期结果 | 1. 页面显示用户收藏的所有图书<br>2. 收藏列表按收藏时间降序排列<br>3. 每本图书显示基本信息和取消收藏选项 |
| 测试类型 | 功能测试 |

| 测试用例ID | TF-3.2 |
|------------|-------|
| 测试名称 | 空收藏列表处理 |
| 测试优先级 | 中 |
| 前置条件 | 1. 用户已登录<br>2. 用户未收藏任何图书 |
| 测试步骤 | 1. 点击导航栏中的"我的收藏"<br>2. 访问收藏列表页 |
| 测试数据 | userId=当前登录用户ID, 收藏列表为空 |
| 预期结果 | 1. 页面显示"暂无收藏"或类似提示<br>2. 提供返回图书列表的链接 |
| 测试类型 | 边界值测试 |

| 测试用例ID | TF-3.3 |
|------------|-------|
| 测试名称 | 查看已删除图书的处理 |
| 测试优先级 | 低 |
| 前置条件 | 1. 用户已登录<br>2. 用户收藏了ID为8的图书<br>3. 系统管理员已删除ID为8的图书 |
| 测试步骤 | 1. 访问收藏列表页 |
| 测试数据 | userId=当前登录用户ID, 包含已删除的收藏图书 |
| 预期结果 | 1. 已删除的图书显示为"此图书已不可用"或类似提示<br>2. 提供取消收藏选项<br>3. 或自动过滤已删除的图书不在收藏列表显示 |
| 测试类型 | 异常处理测试 |

## 5. 用户登录注册模块测试

### 5.1 用户注册功能测试

| 测试用例ID | TU-1.1 |
|------------|-------|
| 测试名称 | 正常注册用户 |
| 测试优先级 | 高 |
| 前置条件 | 系统中不存在相同用户名的账号 |
| 测试步骤 | 1. 访问注册页面<br>2. 填写有效的用户名、密码和电子邮件<br>3. 点击注册按钮 |
| 测试数据 | 用户名="testuser", 密码="Test@123", 邮箱="test@example.com" |
| 预期结果 | 1. 注册成功，显示成功提示<br>2. 系统创建新用户账号<br>3. 自动跳转到登录页面或首页 |
| 测试类型 | 功能测试 |

| 测试用例ID | TU-1.2 |
|------------|-------|
| 测试名称 | 重复用户名注册 |
| 测试优先级 | 高 |
| 前置条件 | 系统中已存在用户名为"existinguser"的账号 |
| 测试步骤 | 1. 访问注册页面<br>2. 输入已存在的用户名和其他有效信息<br>3. 点击注册按钮 |
| 测试数据 | 用户名="existinguser", 密码="Test@123", 邮箱="new@example.com" |
| 预期结果 | 1. 注册失败<br>2. 显示"用户名已存在"或类似错误提示<br>3. 不创建新用户账号 |
| 测试类型 | 边界值测试 |

| 测试用例ID | TU-1.3 |
|------------|-------|
| 测试名称 | 密码强度验证 |
| 测试优先级 | 中 |
| 前置条件 | 无 |
| 测试步骤 | 1. 访问注册页面<br>2. 输入有效用户名和邮箱<br>3. 输入简单密码如"123456"<br>4. 点击注册按钮 |
| 测试数据 | 用户名="newuser", 密码="123456", 邮箱="new@example.com" |
| 预期结果 | 1. 注册失败<br>2. 显示密码强度不足的错误提示<br>3. 提示密码复杂度要求 |
| 测试类型 | 验证测试 |

### 5.2 用户登录功能测试

| 测试用例ID | TU-2.1 |
|------------|-------|
| 测试名称 | 正确凭据登录 |
| 测试优先级 | 高 |
| 前置条件 | 系统中存在用户名为"testuser"、密码为"Test@123"的账号 |
| 测试步骤 | 1. 访问登录页面<br>2. 输入正确的用户名和密码<br>3. 点击登录按钮 |
| 测试数据 | 用户名="testuser", 密码="Test@123" |
| 预期结果 | 1. 登录成功<br>2. 跳转到系统首页<br>3. 显示已登录用户的信息 |
| 测试类型 | 功能测试 |

| 测试用例ID | TU-2.2 |
|------------|-------|
| 测试名称 | 错误密码登录 |
| 测试优先级 | 高 |
| 前置条件 | 系统中存在用户名为"testuser"的账号 |
| 测试步骤 | 1. 访问登录页面<br>2. 输入正确的用户名和错误的密码<br>3. 点击登录按钮 |
| 测试数据 | 用户名="testuser", 密码="WrongPassword" |
| 预期结果 | 1. 登录失败<br>2. 显示"用户名或密码错误"或类似提示<br>3. 留在登录页面 |
| 测试类型 | 边界值测试 |

| 测试用例ID | TU-2.3 |
|------------|-------|
| 测试名称 | 登录失败次数限制 |
| 测试优先级 | 中 |
| 前置条件 | 系统中存在用户名为"testuser"的账号 |
| 测试步骤 | 1. P访问登录页面<br>2. 使用正确用户名和错误密码连续尝试登录5次 |
| 测试数据 | 用户名="testuser", 密码="WrongPassword" |
| 预期结果 | 1. 5次失败后，账号被临时锁定<br>2. 显示账号锁定提示<br>3. 在锁定期间无法登录，即使使用正确密码 |
| 测试类型 | 安全测试 |

### 5.3 密码找回功能测试

| 测试用例ID | TU-3.1 |
|------------|-------|
| 测试名称 | 正常找回密码 |
| 测试优先级 | 中 |
| 前置条件 | 系统中存在邮箱为"test@example.com"的用户 |
| 测试步骤 | 1. 访问找回密码页面<br>2. 输入注册邮箱<br>3. 点击发送重置链接按钮<br>4. 检查邮箱接收重置邮件<br>5. 点击邮件中的重置链接<br>6. 设置新密码 |
| 测试数据 | 邮箱="test@example.com", 新密码="NewTest@456" |
| 预期结果 | 1. 重置链接成功发送到邮箱<br>2. 重置链接有效<br>3. 成功更新密码<br>4. 可以使用新密码登录 |
| 测试类型 | 功能测试 |

| 测试用例ID | TU-3.2 |
|------------|-------|
| 测试名称 | 非注册邮箱找回密码 |
| 测试优先级 | 低 |
| 前置条件 | 系统中不存在邮箱为"nonexistent@example.com"的用户 |
| 测试步骤 | 1. 访问找回密码页面<br>2. 输入未注册的邮箱<br>3. 点击发送重置链接按钮 |
| 测试数据 | 邮箱="nonexistent@example.com" |
| 预期结果 | 1. 系统不显示错误，保护用户隐私<br>2. 显示"如果邮箱已注册，重置链接已发送"或类似提示<br>3. 不向该邮箱发送任何邮件 |
| 测试类型 | 安全测试 |

### 5.4 用户退出功能测试

| 测试用例ID | TU-4.1 |
|------------|-------|
| 测试名称 | 正常退出登录 |
| 测试优先级 | 中 |
| 前置条件 | 用户已登录系统 |
| 测试步骤 | 1. 点击页面上的"退出"按钮 |
| 测试数据 | 无 |
| 预期结果 | 1. 用户成功退出系统<br>2. 跳转到登录页面或首页<br>3. 会话被清除<br>4. 访问需要登录的功能时要求重新登录 |
| 测试类型 | 功能测试 |

| 测试用例ID | TU-4.2 |
|------------|-------|
| 测试名称 | 会话超时自动退出 |
| 测试优先级 | 低 |
| 前置条件 | 用户已登录系统 |
| 测试步骤 | 1. 用户登录后保持不活动状态30分钟 |
| 测试数据 | 无 |
| 预期结果 | 1. 会话超时后系统自动退出用户<br>2. 用户尝试操作时提示需要重新登录<br>3. 跳转到登录页面 |
| 测试类型 | 安全测试 | 